@[toc]
# å‰è¨€
> å­¦ä¹ makfileçš„åŸå› ï¼Œcmakeç”Ÿæˆçš„makefile å¤ªè‡ƒè‚¿äº†
> [å‚è€ƒæ–‡æ¡£-ç¨‹åºç¼–è¯‘æµç¨‹å’ŒåŸç†](https://blog.csdn.net/m0_57249200/article/details/138384362?fromshare=blogdetail&sharetype=blogdetail&sharerId=138384362&sharerefer=PC&sharesource=m0_57249200&sharefrom=from_link)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/4c5c088bee3744358928b476dfb212be.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/16a202417cbc46ca9a209304dec48539.jpeg)
# 1.GCCç­‰å‰æåŸºç¡€çŸ¥è¯†
## 1.1 è®¡ç®—æœºç¨‹åºç¼–è¯‘çŸ¥è¯†

------
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8d8ec5e78c5146d9ad9cc8a89e3a83db.png)---------------------------
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/7bc07734a44b4543a07298bec000b702.png)

---
## 1.2 é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥ä»‹ç»
åŠ¨æ€é“¾æ¥å’Œé™æ€é“¾æ¥æ˜¯ç¨‹åºåœ¨**ç¼–è¯‘å’Œè¿è¡Œ**æ—¶å¤„ç†åº“ï¼ˆå¦‚ `.so`ã€`.dll` æˆ– `.a`ã€`.lib`ï¼‰çš„ä¸¤ç§æ–¹å¼ã€‚  
### **1.2.1 é™æ€é“¾æ¥ï¼ˆStatic Linkingï¼‰**
**ğŸ‘‰ ç¼–è¯‘æ—¶ç›´æ¥æŠŠåº“çš„ä»£ç æ‹·è´åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­**ã€‚  
#### **ç‰¹ç‚¹**ï¼š
- ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶**ä½“ç§¯å¤§**ï¼ˆå› ä¸ºåŒ…å«æ‰€æœ‰åº“ä»£ç ï¼‰ã€‚
- è¿è¡Œæ—¶**ä¸ä¾èµ–å¤–éƒ¨åº“**ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚
- é€‚ç”¨äº**åµŒå…¥å¼ç³»ç»Ÿ**æˆ–**å‘å¸ƒæ—¶ä¸æƒ³ä¾èµ–é¢å¤–åº“**çš„åœºæ™¯ã€‚  

#### **ç¤ºä¾‹ï¼š**
å‡è®¾ä½ æœ‰ä¸€ä¸ª `math.a`ï¼ˆé™æ€åº“ï¼‰ï¼š
```sh
gcc main.c -o main -L. -lmath
```
ç¼–è¯‘åï¼Œ`main` å·²ç»åŒ…å«äº† `math.a` çš„æ‰€æœ‰å¿…è¦ä»£ç ï¼Œ**ä¸éœ€è¦é¢å¤–çš„ `.a` æ–‡ä»¶**ã€‚

---

### **1.2.2 åŠ¨æ€é“¾æ¥ï¼ˆDynamic Linkingï¼‰**
**ğŸ‘‰ ç¼–è¯‘æ—¶ä¸å¤åˆ¶åº“ä»£ç ï¼Œè¿è¡Œæ—¶å†åŠ è½½**ã€‚  
#### **ç‰¹ç‚¹**ï¼š
- ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶**ä½“ç§¯å°**ï¼Œä½†è¿è¡Œæ—¶**ä¾èµ–åŠ¨æ€åº“**ï¼ˆå¦‚ `.so`ã€`.dll`ï¼‰ã€‚
- å¯ä»¥**å¤šä¸ªç¨‹åºå…±äº«åº“**ï¼Œå‡å°‘å†…å­˜å ç”¨ã€‚
- é€‚ç”¨äº**å¤§é¡¹ç›®**ï¼Œåº“æ›´æ–°å**æ— éœ€é‡æ–°ç¼–è¯‘**æ•´ä¸ªç¨‹åºã€‚  

#### **ç¤ºä¾‹ï¼š**
å‡è®¾ä½ æœ‰ `math.so`ï¼ˆåŠ¨æ€åº“ï¼‰ï¼š
```sh
gcc main.c -o main -L. -lmath
```
è¿è¡Œæ—¶éœ€è¦ `math.so`ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š
```sh
./main: error while loading shared libraries: libmath.so: cannot open shared object file
```
è§£å†³åŠæ³•ï¼š
```sh
export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH
./main
```
è¿™æ · `main` å°±èƒ½æ‰¾åˆ° `math.so` å¹¶æ­£å¸¸è¿è¡Œã€‚

---

### **1.2.3 ä¸»è¦åŒºåˆ«**
|  | **é™æ€é“¾æ¥** | **åŠ¨æ€é“¾æ¥** |
|---|---|---|
| ä¾èµ–åº“ | ä¸éœ€è¦ï¼ˆå·²åŒ…å«ï¼‰ | è¿è¡Œæ—¶éœ€è¦ |
| ç”Ÿæˆæ–‡ä»¶ | ä½“ç§¯å¤§ | ä½“ç§¯å° |
| è¿è¡Œæ•ˆç‡ | ç•¥å¿« | å¯èƒ½ç¨æ…¢ï¼ˆå–å†³äºç³»ç»Ÿç¼“å­˜ï¼‰ |
| é€‚ç”¨åœºæ™¯ | ç‹¬ç«‹å‘å¸ƒã€åµŒå…¥å¼ | å…±äº«åº“ã€ç³»ç»Ÿç¨‹åº |

---

### **1.2.4 ç°å®ç”Ÿæ´»ä¸­çš„ä¾‹å­**
- **é™æ€é“¾æ¥**ï¼šç±»ä¼¼ä¹°ä¸€ä¸ªè›‹ç³•ï¼Œæ‰€æœ‰é…æ–™ï¼ˆåº“ï¼‰éƒ½å·²ç»æ··åˆå¥½äº†ï¼Œå¯ä»¥ç›´æ¥åƒï¼ˆè¿è¡Œï¼‰ã€‚
- **åŠ¨æ€é“¾æ¥**ï¼šç±»ä¼¼åšè›‹ç³•æ—¶è°ƒç”¨è¶…å¸‚çš„åŸæ–™ï¼ˆåº“ï¼‰ï¼Œå¦‚æœè¶…å¸‚æ²¡å¼€ï¼ˆåº“ä¸¢å¤±ï¼‰ï¼Œå°±åšä¸å‡ºæ¥ï¼ˆè¿è¡Œå¤±è´¥ï¼‰ã€‚
è¿™æ ·ç†è§£æ˜¯ä¸æ˜¯æ›´ç›´è§‚äº†ï¼ŸğŸ˜ƒ


### 1.2.5 é™æ€åº“åŠ¨æ€åº“ å­¦ä¹ æ¡ˆä¾‹
å½“ç„¶ï¼æˆ‘æ¥å†™ä¸€ä¸ª**ç®€å•æ˜“æ‡‚**çš„**é™æ€é“¾æ¥**å’Œ**åŠ¨æ€é“¾æ¥**ç¤ºä¾‹ï¼Œé€‚åˆæ–°æ‰‹å­¦ä¹ ã€‚  

---

#### **1.2.5.1 å‡†å¤‡ä¸€ä¸ªåº“ï¼ˆmath_libï¼‰**
æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªæ•°å­¦åº“ `math_lib`ï¼Œæä¾›**åŠ æ³•**å’Œ**å‡æ³•**å‡½æ•°ï¼Œåˆ†åˆ«æ¼”ç¤º**é™æ€é“¾æ¥**å’Œ**åŠ¨æ€é“¾æ¥**çš„ç”¨æ³•ã€‚

#### **åˆ›å»º `math_lib.c`ï¼ˆæ•°å­¦åº“å®ç°ï¼‰**
```c
// math_lib.c
#include <stdio.h>

void add(int a, int b) {
    printf("Add: %d + %d = %d\n", a, b, a + b);
}

void subtract(int a, int b) {
    printf("Subtract: %d - %d = %d\n", a, b, a - b);
}
```
#### **åˆ›å»º `math_lib.h`ï¼ˆå¤´æ–‡ä»¶ï¼‰**
```c
// math_lib.h
#ifndef MATH_LIB_H
#define MATH_LIB_H

void add(int a, int b);
void subtract(int a, int b);

#endif
```

---

#### **1.2.5.2 é™æ€é“¾æ¥ç¤ºä¾‹**
##### **(1) ç”Ÿæˆé™æ€åº“**
```sh
gcc -c math_lib.c -o math_lib.o    # ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶
ar rcs libmath.a math_lib.o        # ç”Ÿæˆé™æ€åº“ libmath.a
```
è¿™ä¼šåˆ›å»º `libmath.a`ï¼Œä»¥åæˆ‘ä»¬å¯ä»¥æŠŠå®ƒé“¾æ¥åˆ°ç¨‹åºé‡Œã€‚

---

##### **(2) åˆ›å»º `main_static.c`**
```c
// main_static.c
#include <stdio.h>
#include "math_lib.h"

int main() {
    add(10, 5);
    subtract(10, 5);
    return 0;
}
```

---

##### **(3) ç¼–è¯‘ & è¿è¡Œ**
```sh
gcc main_static.c -o main_static -L. -lmath
./main_static
```
**è¾“å‡ºï¼š**
```
Add: 10 + 5 = 15
Subtract: 10 - 5 = 5
```
è¿™é‡Œ `main_static` **å·²ç»åŒ…å«äº† `libmath.a` çš„ä»£ç **ï¼Œæ‰€ä»¥ä¸éœ€è¦é¢å¤–çš„åº“æ–‡ä»¶å°±èƒ½è¿è¡Œã€‚

---

#### **1.2.5.3 åŠ¨æ€é“¾æ¥ç¤ºä¾‹**
##### **(1) ç”ŸæˆåŠ¨æ€åº“**
```sh
gcc -shared -fPIC math_lib.c -o libmath.so
```
è¿™ä¼šåˆ›å»º `libmath.so`ï¼Œç”¨äºåŠ¨æ€é“¾æ¥ã€‚

---

##### **(2) åˆ›å»º `main_dynamic.c`**
```c
// main_dynamic.c
#include <stdio.h>
#include "math_lib.h"

int main() {
    add(20, 10);
    subtract(20, 10);
    return 0;
}
```

---

##### **(3) ç¼–è¯‘ & è¿è¡Œ**
```sh
gcc main_dynamic.c -o main_dynamic -L. -lmath
./main_dynamic
```
âš ï¸ è¿è¡Œæ—¶å¯èƒ½ä¼šæŠ¥é”™ï¼š
```
./main_dynamic: error while loading shared libraries: libmath.so: cannot open shared object file
```
**å› ä¸ºç³»ç»Ÿæ‰¾ä¸åˆ° `libmath.so`ï¼Œéœ€è¦å‘Šè¯‰å®ƒåº“çš„ä½ç½®**ï¼š
```sh
export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH
./main_dynamic
```
**è¾“å‡ºï¼š**
```
Add: 20 + 10 = 30
Subtract: 20 - 10 = 10
```

---

##### **4. æ€»ç»“**
|  | **é™æ€é“¾æ¥** | **åŠ¨æ€é“¾æ¥** |
|---|---|---|
| ç¼–è¯‘æ–¹å¼ | `ar rcs libmath.a math_lib.o` | `gcc -shared -fPIC math_lib.c -o libmath.so` |
| è¿è¡Œä¾èµ– | **ä¸éœ€è¦å¤–éƒ¨åº“**ï¼ˆç›´æ¥åŒ…å«ä»£ç ï¼‰ | **éœ€è¦ `libmath.so`**ï¼ˆå¦åˆ™è¿è¡Œæ—¶æŠ¥é”™ï¼‰ |
| å¯æ‰§è¡Œæ–‡ä»¶å¤§å° | **æ›´å¤§**ï¼ˆåŒ…å«åº“ä»£ç ï¼‰ | **æ›´å°**ï¼ˆåº“åˆ†å¼€å­˜æ”¾ï¼‰ |
| é€‚ç”¨åœºæ™¯ | åµŒå…¥å¼ã€ç‹¬ç«‹è½¯ä»¶ | å…±äº«åº“ã€æ’ä»¶ã€ç³»ç»Ÿåº“ |

è¿™ä¸ªä¾‹å­é€‚åˆæ–°æ‰‹å­¦ä¹ ï¼Œæ‰‹æŠŠæ‰‹ä½“éªŒ**é™æ€é“¾æ¥**å’Œ**åŠ¨æ€é“¾æ¥**çš„åŒºåˆ«ï¼ğŸ”¥ ğŸš€



---



## 1.3 gcc å®æˆ˜ä»‹ç»

>ä¸‹å›¾ä¸ºç›®å½•ç»“æ„
![ç›®å½•ç»“æ„](https://i-blog.csdnimg.cn/direct/8d211a0411e54891ad5b6e00b7d25a3a.png)--- éœ€è¦ç¼–è¯‘main.cæ–‡ä»¶ï¼Œä¾èµ–çš„ä¸€ä¸ªmat.hæ–‡ä»¶åœ¨å…¶ä»–ç›®å½•ï¼Œ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/56d2abbd12454404bfdc7acde7c235b2.png)

>éœ€è¦å…ˆå°†main.c ç¼–è¯‘æˆmain.oï¼Œä¾èµ–mat.hå¤´æ–‡ä»¶çš„ mat.c ç¼–è¯‘æˆmat.o ç„¶åå°†ä¸¤ä¸ª.oæ–‡ä»¶é“¾æ¥æˆä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œï¼ˆå¦‚æœå¤šä¸ªæ–‡ä»¶ä¹Ÿç±»ä¼¼ å…ˆç¼–è¯‘mian.c æˆç›®æ ‡æ–‡ä»¶.o ç„¶åå†é“¾æ¥å…¶ä»–éœ€è¦çš„.oï¼‰
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/58f04b34c42846fcbfe8ace318065f80.png)
-----
---
# 2. makefile çŸ¥è¯†
## 2.1 makefileåŸºç¡€æ•™ç¨‹
### 2.1.1 V1.0ç‰ˆæœ¬æ•™ç¨‹
```bash
# æœ€åŸºç¡€ç‰ˆæœ¬çš„makefile
# testæ˜¯ç›®æ ‡ ï¼Œmain.o sub.oæ˜¯ä¾èµ–ï¼Œæ‰§è¡Œmake æŒ‡ä»¤æ—¶å€™å…ˆæ‰§è¡Œè¿™æ¡æŒ‡ä»¤ï¼Œ
# å‘ç°ä¾èµ–main.o æ²¡æœ‰å°± å…ˆå»æ‰§è¡Œ
# main.o : main.c
# 	gcc -c -o main.o main.c 
# sub.oæ²¡æœ‰å°±å…ˆå»æ‰§è¡Œæœ€ä¸‹è¾¹çš„sub.o : sub.c
test : main.o sub.o
	gcc -o test main.o sub.o

main.o : main.c
	gcc -c -o main.o main.c

sub.o : sub.c
	gcc -c -o sub.o sub.c

clean:
	rm *.o test -f
```
### 2.1.2 V2.0ç‰ˆæœ¬æ•™ç¨‹
```bash
# ç›®æ ‡ test ä¾èµ–äº main.o å’Œ sub.o
# è¿™æ„å‘³ç€ï¼šé¦–å…ˆéœ€è¦å…ˆç¼–è¯‘ main.o å’Œ sub.oï¼Œç„¶åæ‰èƒ½ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ test
test : main.o sub.o
	# é“¾æ¥ main.o å’Œ sub.o ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ test
	# gcc æ˜¯ç¼–è¯‘å™¨ï¼Œ-o test æŒ‡å®šè¾“å‡ºçš„å¯æ‰§è¡Œæ–‡ä»¶å
	gcc -o test main.o sub.o

# è§„åˆ™ï¼šå¦‚ä½•ä» .c æ–‡ä»¶ç¼–è¯‘æˆ .o æ–‡ä»¶
# %.o : %.c è¡¨ç¤ºï¼šæ‰€æœ‰çš„ .c æ–‡ä»¶éƒ½ä¼šé€šè¿‡æ­¤è§„åˆ™ç”Ÿæˆå¯¹åº”çš„ .o æ–‡ä»¶
%.o : %.c
	# ä½¿ç”¨ gcc ç¼–è¯‘å™¨å°† .c æ–‡ä»¶ç¼–è¯‘æˆ .o æ–‡ä»¶
	# -o $@ è®©ç¼–è¯‘å™¨å°†è¾“å‡ºæ–‡ä»¶åè®¾ç½®ä¸ºç›®æ ‡æ–‡ä»¶åï¼ˆå³ .o æ–‡ä»¶ï¼‰
	# $< ä»£è¡¨å½“å‰è§„åˆ™ä¸­çš„ä¾èµ–æ–‡ä»¶ï¼ˆå³ .c æ–‡ä»¶ï¼‰
	gcc -c -o $@ $<

# clean ç›®æ ‡ç”¨äºæ¸…ç†ç¼–è¯‘è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶
# è¿™é‡Œçš„ *.o æ˜¯æŒ‡æ‰€æœ‰çš„ .o æ–‡ä»¶ï¼Œtest æ˜¯æŒ‡å¯æ‰§è¡Œæ–‡ä»¶
clean:
	# åˆ é™¤æ‰€æœ‰çš„ .o æ–‡ä»¶å’Œ test å¯æ‰§è¡Œæ–‡ä»¶
	# -f è¡¨ç¤ºå¼ºåˆ¶åˆ é™¤ï¼Œä¸ä¼šæŠ¥é”™å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨
	rm *.o test -f
```

#### **è¯¦ç»†è§£é‡Šï¼š**

1. **`test : main.o sub.o`**
   - `test` ç›®æ ‡ä¾èµ– `main.o` å’Œ `sub.o` æ–‡ä»¶ï¼Œæ„æ€æ˜¯è¦ç”Ÿæˆ `test` å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¿…é¡»å…ˆç”Ÿæˆ `main.o` å’Œ `sub.o`ã€‚

2. **`gcc -o test main.o sub.o`**
   - ä½¿ç”¨ `gcc` ç¼–è¯‘å™¨å°† `main.o` å’Œ `sub.o` é“¾æ¥æˆä¸€ä¸ªåä¸º `test` çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚

3. **`%.o : %.c`**
   - è¿™æ˜¯ä¸€ä¸ª**æ¨¡å¼è§„åˆ™**ï¼Œè¡¨ç¤ºå¦‚ä½•ä» `.c` æ–‡ä»¶ç”Ÿæˆ `.o` æ–‡ä»¶ã€‚
   - `%` æ˜¯é€šé…ç¬¦ï¼Œå®ƒè¡¨ç¤ºä»»æ„æ–‡ä»¶åã€‚
   - ä¾‹å¦‚ï¼Œ`main.c` ä¼šè¢«ç¼–è¯‘æˆ `main.o`ï¼Œ`sub.c` ä¼šè¢«ç¼–è¯‘æˆ `sub.o`ï¼Œä¾æ­¤ç±»æ¨ã€‚

4. **`gcc -c -o $@ $<`**
   - `gcc -c` æ˜¯ç¼–è¯‘å‘½ä»¤ï¼Œè¡¨ç¤ºç¼–è¯‘æºä»£ç ä½†ä¸è¿›è¡Œé“¾æ¥ã€‚
   - `$@` æ˜¯è‡ªåŠ¨å˜é‡ï¼Œè¡¨ç¤ºè§„åˆ™çš„ç›®æ ‡æ–‡ä»¶ï¼ˆå³ `.o` æ–‡ä»¶ï¼‰ã€‚
   - `$<` æ˜¯è‡ªåŠ¨å˜é‡ï¼Œè¡¨ç¤ºè§„åˆ™çš„ç¬¬ä¸€ä¸ªä¾èµ–æ–‡ä»¶ï¼ˆå³ `.c` æ–‡ä»¶ï¼‰ã€‚
   - æ‰€ä»¥ï¼Œ`gcc -c -o $@ $<` å°±æ˜¯å°† `.c` æ–‡ä»¶ç¼–è¯‘æˆ `.o` æ–‡ä»¶ã€‚

5. **`clean` ç›®æ ‡**
   - `clean` ç›®æ ‡ç”¨äºæ¸…ç†ç¼–è¯‘è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ï¼Œæ¯”å¦‚ `.o` æ–‡ä»¶å’Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ `test`ã€‚
   - `rm *.o test -f` è¡¨ç¤ºå¼ºåˆ¶åˆ é™¤æ‰€æœ‰çš„ `.o` æ–‡ä»¶å’Œ `test` æ–‡ä»¶ã€‚
   - ä½¿ç”¨ `clean` ç›®æ ‡å¯ä»¥è®©ä½ æ¸…ç†å·¥ä½œç›®å½•ï¼Œå‡†å¤‡é‡æ–°ç¼–è¯‘ã€‚

#### **æ€»ç»“ï¼š**
- **`Makefile` é€šè¿‡è§„åˆ™å®šä¹‰äº†å¦‚ä½•ç¼–è¯‘å’Œé“¾æ¥æ–‡ä»¶**ï¼Œä¾‹å¦‚å¦‚ä½•ä» `.c` æ–‡ä»¶ç”Ÿæˆ `.o` æ–‡ä»¶ï¼Œå¦‚ä½•å°† `.o` æ–‡ä»¶é“¾æ¥æˆæœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚
- `clean` ç›®æ ‡ç”¨äºæ¸…ç†ç¼–è¯‘äº§ç”Ÿçš„ä¸­é—´æ–‡ä»¶ï¼Œä½¿å¾—æ¯æ¬¡æ„å»ºéƒ½èƒ½åœ¨å¹²å‡€çš„ç¯å¢ƒä¸‹å¼€å§‹ã€‚

---
## 2.2 makefile å¸¸ç”¨å‡½æ•°ä»‹ç»
### 2.2.1**ğŸ“Œ `foreach` å‡½æ•°ç®€ä»‹**
`foreach` æ˜¯ `Makefile` çš„**å¾ªç¯å‡½æ•°**ï¼Œç”¨äº**éå†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ **ï¼Œç„¶åæ‰§è¡ŒæŸä¸ªæ“ä½œã€‚  

ğŸ“Œ **åŸºæœ¬è¯­æ³•ï¼š**
```make
$(foreach å˜é‡, åˆ—è¡¨, è¡¨è¾¾å¼)
```
- `å˜é‡`ï¼šå¾ªç¯å˜é‡ï¼Œæ¯æ¬¡è¿­ä»£æ—¶å­˜å‚¨å½“å‰å…ƒç´ ã€‚
- `åˆ—è¡¨`ï¼šéœ€è¦éå†çš„åˆ—è¡¨ï¼Œå¤šä¸ªå…ƒç´ ç”¨ç©ºæ ¼åˆ†éš”ã€‚
- `è¡¨è¾¾å¼`ï¼šå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„æ“ä½œï¼Œé€šå¸¸æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ã€å˜é‡è®¡ç®—ç­‰ã€‚

---

#### **ğŸš€ ç¤ºä¾‹ 1ï¼šéå†æ–‡ä»¶åˆ—è¡¨**
```make
SRC = main.c sub.c utils.c
OBJ = $(foreach file, $(SRC), $(file:.c=.o))

all:
	@echo "æºæ–‡ä»¶: $(SRC)"
	@echo "ç›®æ ‡æ–‡ä»¶: $(OBJ)"
```
#### **ğŸ” è§£æ**
- `SRC` é‡Œæœ‰ `main.c sub.c utils.c`
- `$(foreach file, $(SRC), $(file:.c=.o))`
  - éå† `SRC` é‡Œçš„æ¯ä¸ª `.c` æ–‡ä»¶
  - æ›¿æ¢ `.c` ä¸º `.o`
  - ç»“æœï¼š`main.o sub.o utils.o`

âœ… **è¿è¡Œ `make`**
```sh
$ make
æºæ–‡ä»¶: main.c sub.c utils.c
ç›®æ ‡æ–‡ä»¶: main.o sub.o utils.o
```

---

#### **ğŸš€ ç¤ºä¾‹ 2ï¼šåˆ›å»ºå¤šä¸ªç›®å½•**
```make
DIRS = build build/app build/src

all:
	@echo "åˆ›å»ºç›®å½•: $(DIRS)"
	$(foreach dir, $(DIRS), mkdir -p $(dir);)
```
#### **ğŸ” è§£æ**
- `DIRS` åŒ…å« `build`ã€`build/app`ã€`build/src`
- `foreach` éå† `DIRS`ï¼Œå¯¹æ¯ä¸ªç›®å½•æ‰§è¡Œ `mkdir -p $(dir);`

âœ… **è¿è¡Œ `make`**
```sh
$ make
åˆ›å»ºç›®å½•: build build/app build/src
```
âœ” **ä¿è¯æ‰€æœ‰ç›®å½•éƒ½è¢«åˆ›å»ºï¼**

---

#### **ğŸš€ ç¤ºä¾‹ 3ï¼šæ‰¹é‡æ·»åŠ å‰ç¼€**
```make
FILES = a.txt b.txt c.txt
PREFIXED = $(foreach f, $(FILES), dir/$(f))

all:
	@echo "åŠ å‰ç¼€åçš„æ–‡ä»¶åˆ—è¡¨: $(PREFIXED)"
```
#### **ğŸ” è§£æ**
- `FILES = a.txt b.txt c.txt`
- `$(foreach f, $(FILES), dir/$(f))`  
  - éå† `FILES`ï¼Œç»™æ¯ä¸ªæ–‡ä»¶åŠ ä¸Š `dir/`
  - ç»“æœï¼š`dir/a.txt dir/b.txt dir/c.txt`

âœ… **è¿è¡Œ `make`**
```sh
$ make
åŠ å‰ç¼€åçš„æ–‡ä»¶åˆ—è¡¨: dir/a.txt dir/b.txt dir/c.txt
```

---

#### **ğŸš€ ç¤ºä¾‹ 4ï¼šç»™ `CFLAGS` æ·»åŠ  `-I` ç›®å½•**
```make
INC_DIRS = include src headers
CFLAGS = $(foreach dir, $(INC_DIRS), -I$(dir))

all:
	@echo "ç¼–è¯‘é€‰é¡¹: $(CFLAGS)"
```
#### **ğŸ” è§£æ**
- `INC_DIRS = include src headers`
- `$(foreach dir, $(INC_DIRS), -I$(dir))`
  - éå† `INC_DIRS`
  - æ¯ä¸ªç›®å½•å‰åŠ  `-I`
  - ç»“æœï¼š`-Iinclude -Isrc -Iheaders`

âœ… **è¿è¡Œ `make`**
```sh
$ make
ç¼–è¯‘é€‰é¡¹: -Iinclude -Isrc -Iheaders
```
âœ” **é€‚ç”¨äºè‡ªåŠ¨æ·»åŠ  `gcc` å¤´æ–‡ä»¶è·¯å¾„ï¼**

---

**ğŸ”¹ æ€»ç»“**
| ç”¨é€” | ç¤ºä¾‹ |
|------|------|
| **æ‰¹é‡æ›¿æ¢** | `$(foreach f, $(SRC), $(f:.c=.o))` |
| **åˆ›å»ºå¤šä¸ªç›®å½•** | `$(foreach d, $(DIRS), mkdir -p $(d);)` |
| **ç»™è·¯å¾„åŠ å‰ç¼€** | `$(foreach f, $(FILES), dir/$(f))` |
| **æ‰¹é‡æ„é€ ç¼–è¯‘é€‰é¡¹** | `$(foreach dir, $(INC_DIRS), -I$(dir))` |

ğŸ”¥ **`foreach` è®© `Makefile` æ›´å¼ºå¤§ï¼Œé€‚åˆå¤„ç†æ–‡ä»¶åˆ—è¡¨ã€ç›®å½•åˆ›å»ºã€ç¼–è¯‘å‚æ•°ç­‰ä»»åŠ¡ï¼** ğŸš€

---

#### å®æˆ˜æ¼”ç¤ºï¼š æŠŠæ‰€æœ‰ç›®å½•ä¸­çš„æ‰€æœ‰.cæ–‡ä»¶æ‰¾å‡ºæ¥èµ‹å€¼ç»™å˜é‡
 1. ä½¿ç”¨ foreach å‡½æ•°éå† SRC_DIRS ä¸­çš„æ¯ä¸ªç›®å½•ï¼Œä½¿ç”¨ wildcard å‡½æ•°æŸ¥æ‰¾ç›®å½•ä¸­çš„æ‰€æœ‰ .c æ–‡ä»¶
```bash
# æºä»£ç ç›®å½•
SRC_DIRS = app Driver/src

# æ‰¾åˆ°æ‰€æœ‰ç›®å½•ä¸‹çš„.cæ–‡ä»¶ï¼Œèµ‹å€¼ç»™SRC_FILES å˜é‡
# ä½¿ç”¨ foreach å‡½æ•°éå† SRC_DIRS ä¸­çš„æ¯ä¸ªç›®å½•ï¼Œä½¿ç”¨ wildcard å‡½æ•°æŸ¥æ‰¾ç›®å½•ä¸­çš„æ‰€æœ‰ .c æ–‡ä»¶
SRC_FILES = $(foreach dir, $(SRC_DIRS), $(wildcard $(dir)/*.c))
```
>**#SRC_FILES å®é™…æ‰“å°å‡ºæ¥çš„æ•ˆæœä¸ºï¼šã€SRC_FILES=  app/main.c  Driver/src/mul.c Driver/src/mat.c Driver/src/add.c Driver/src/sub.c ã€‘**
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/92901a881b4c4c02bb1dd3f1b361629a.png)
### 2.2.2 **æ¨¡å¼è½¬æ¢ `OBJ = $(SRC:.c=.o)`**
è¿™ä¸€è¡Œ `Makefile` ä»£ç çš„ä½œç”¨æ˜¯**æŠŠ `SRC` å˜é‡ä¸­çš„ `.c` æ–‡ä»¶è½¬æ¢æˆ `.o` æ–‡ä»¶**ï¼Œç”Ÿæˆ `OBJ` å˜é‡ã€‚

---
#### **ğŸ“Œ ä»£ç æ‹†è§£**
```make
SRC = main.c sub.c
OBJ = $(SRC:.c=.o)  #OBJ = main.o sub.o
```
- `SRC = main.c sub.c`  
  ğŸ‘‰ `SRC` å˜é‡å­˜å‚¨æ‰€æœ‰çš„æºæ–‡ä»¶ `.c`ã€‚
- `$(SRC:.c=.o)`  
  ğŸ‘‰ `Makefile` **æ¨¡å¼æ›¿æ¢**ï¼ŒæŠŠ `SRC` é‡Œé¢çš„ `.c` **æ›¿æ¢æˆ** `.o`ï¼Œç›¸å½“äºï¼š
  ```make
  OBJ = main.o sub.o
  ```

---

#### å®æˆ˜æ¡ˆä¾‹ï¼šå¦‚ä¸‹
```bash
# è·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„ .c æ–‡ä»¶ï¼Œèµ‹å€¼ç»™å˜é‡ SRCS
SRCS = $(wildcard *.c)

# å°† å½“å‰ç›®å½•ä¸‹ æ‰€æœ‰.c æ–‡ä»¶æ›¿æ¢ä¸º .o æ–‡ä»¶æ”¾åˆ° build ç›®å½•ä¸‹
OBJS = $(SRCS:%.c= $(BUILD_DIR)/%.o)
```
#### **ğŸ” `$(VAR:æ—§æ¨¡å¼=æ–°æ¨¡å¼)` è¯­æ³•**
`Makefile` å…è®¸ç”¨ `$(VAR:æ—§æ¨¡å¼=æ–°æ¨¡å¼)` **æ‰¹é‡æ›¿æ¢**å­—ç¬¦ä¸²ï¼š
- `$(SRC:.c=.o)`  
  ğŸ‘‰ **æ‰¾åˆ° `SRC` é‡Œçš„ `.c`ï¼Œæ›¿æ¢æˆ `.o`**
- **ç¤ºä¾‹**
  ```make
  FILES = a.txt b.txt c.txt
  NEW_FILES = $(FILES:.txt=.md)
  ```
  - `NEW_FILES` çš„å€¼å˜æˆï¼š`a.md b.md c.md`

---

#### **ğŸš€ ç¤ºä¾‹**
#### **`Makefile`**
```make
CC = gcc
CFLAGS = -Wall -O2 -g -MMD

SRC = main.c sub.c   # å®šä¹‰æºæ–‡ä»¶
OBJ = $(SRC:.c=.o)   # è‡ªåŠ¨æŠŠ .c è½¬æˆ .o

all: test

test: $(OBJ)         # ä¾èµ–æ‰€æœ‰ .o æ–‡ä»¶
	$(CC) -o $@ $^

%.o: %.c             # è§„åˆ™ï¼šç¼–è¯‘ .c -> .o
	$(CC) -c $(CFLAGS) -o $@ $<

clean:
	rm -f $(OBJ) test *.d

.PHONY: all clean
```

---

#### **ğŸ›  ç¼–è¯‘è¿‡ç¨‹**
```sh
$ make
gcc -c -Wall -O2 -g -MMD -o main.o main.c
gcc -c -Wall -O2 -g -MMD -o sub.o sub.c
gcc -o test main.o sub.o
```
âœ… `make` **è‡ªåŠ¨ç”Ÿæˆ `main.o sub.o`ï¼Œå¹¶é“¾æ¥ `test`ï¼**

---

**ğŸ’¡ ç»“è®º**
- `OBJ = $(SRC:.c=.o)` **è‡ªåŠ¨è½¬æ¢** `.c -> .o`ï¼Œçœå»æ‰‹å†™ `main.o sub.o`ã€‚
- é€‚åˆ **å¤šä¸ª `.c` æ–‡ä»¶çš„é¡¹ç›®**ï¼Œç»´æŠ¤èµ·æ¥æ›´æ–¹ä¾¿ï¼
- å’Œ `%.o : %.c` è§„åˆ™é…åˆï¼Œ`make` **æ™ºèƒ½ç¼–è¯‘å˜åŒ–çš„æ–‡ä»¶**ï¼Œæé«˜æ•ˆç‡ï¼ ğŸš€
 
 -----
 
### 2.2.3**`wildcard` å‡½æ•°ç®€ä»‹**

`wildcard` æ˜¯ `Makefile` ä¸­çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äº**åŒ¹é…æŒ‡å®šè·¯å¾„ä¸‹ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶**ã€‚é€šå¸¸ï¼Œå®ƒç”¨äºæ‰¹é‡åŒ¹é…æ–‡ä»¶ï¼Œæ¯”å¦‚æŸ¥æ‰¾æ‰€æœ‰çš„ `.c` æ–‡ä»¶ã€`.h` æ–‡ä»¶ç­‰ã€‚

ğŸ“Œ **åŸºæœ¬è¯­æ³•ï¼š**
```make
$(wildcard pattern)
```
- `pattern`ï¼šæŒ‡å®šåŒ¹é…æ¨¡å¼ï¼Œå¯ä»¥æ˜¯é€šé…ç¬¦å½¢å¼ï¼ˆä¾‹å¦‚ `*.c`ã€`dir/*.h` ç­‰ï¼‰ã€‚

---

#### **ğŸ“š ä½¿ç”¨åœºæ™¯**

#### **1. æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„ `.c` æ–‡ä»¶**
```make
SRC = $(wildcard *.c)
```
- `$(wildcard *.c)` ä¼šåŒ¹é…å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ `.c` æ–‡ä»¶ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨ï¼ˆä¾‹å¦‚ `main.c sub.c`ï¼‰ã€‚
  
#### **2. æŸ¥æ‰¾æŸä¸ªå­ç›®å½•ä¸‹çš„ `.h` æ–‡ä»¶**
```make
INCLUDES = $(wildcard include/*.h)
```
- `$(wildcard include/*.h)` ä¼šåŒ¹é… `include` ç›®å½•ä¸‹çš„æ‰€æœ‰ `.h` æ–‡ä»¶ã€‚

---

#### **ğŸš€ ç¤ºä¾‹ 1ï¼šæ‰¹é‡å¤„ç† `.c` æ–‡ä»¶**
å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹é¡¹ç›®ç»“æ„ï¼š
```
/my_project
â”‚â”€â”€ Makefile
â”‚â”€â”€ main.c
â”‚â”€â”€ sub.c
â”‚â”€â”€ utils.c
```

#### **Makefileï¼š**
```bash
# è‡ªåŠ¨æ‰¾åˆ°æ‰€æœ‰ .c æ–‡ä»¶
SRC = $(wildcard *.c)

# ç”Ÿæˆ .o æ–‡ä»¶
OBJ = $(SRC:.c=.o)

# é»˜è®¤ç›®æ ‡
all: $(OBJ)
	@echo "All object files: $(OBJ)"

# ç¼–è¯‘è§„åˆ™ï¼š.c æ–‡ä»¶ç¼–è¯‘æˆ .o æ–‡ä»¶
%.o: %.c
	gcc -c -o $@ $<

# æ¸…ç†ç›®æ ‡
clean:
	rm -f $(OBJ)
```

#### **è¿è¡Œè¿‡ç¨‹ï¼š**
1. `$(wildcard *.c)` ä¼šæŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ `.c` æ–‡ä»¶ï¼Œå¾—åˆ° `main.c sub.c utils.c`ã€‚
2. `$(SRC:.c=.o)` ä¼šå°†æ¯ä¸ª `.c` æ–‡ä»¶è½¬æ¢ä¸º `.o` æ–‡ä»¶ï¼Œå³ `main.o sub.o utils.o`ã€‚
3. `make` æ‰§è¡Œæ—¶ï¼Œä¼šç¼–è¯‘è¿™äº› `.c` æ–‡ä»¶å¹¶ç”Ÿæˆ `.o` æ–‡ä»¶ã€‚

---

#### **ğŸš€ ç¤ºä¾‹ 2ï¼šåŒ¹é…å­ç›®å½•ä¸­çš„æ–‡ä»¶**

å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š
```
/my_project
â”‚â”€â”€ Makefile
â”‚â”€â”€ include
â”‚   â””â”€â”€ header1.h
â”‚   â””â”€â”€ header2.h
â”‚â”€â”€ src
â”‚   â””â”€â”€ main.c
â”‚   â””â”€â”€ sub.c
```

#### **Makefileï¼š**
```bash
# è‡ªåŠ¨è·å– include ç›®å½•ä¸‹çš„æ‰€æœ‰ .h æ–‡ä»¶
HEADERS = $(wildcard include/*.h)

# è‡ªåŠ¨è·å– src ç›®å½•ä¸‹çš„æ‰€æœ‰ .c æ–‡ä»¶
SRC = $(wildcard src/*.c)

# ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶ .o
OBJ = $(SRC:.c=.o)

# é»˜è®¤ç›®æ ‡
all: $(OBJ)
	@echo "All object files: $(OBJ)"

# ç¼–è¯‘è§„åˆ™ï¼š.c æ–‡ä»¶ç¼–è¯‘æˆ .o æ–‡ä»¶
%.o: %.c
	gcc -c -o $@ $<

# æ¸…ç†ç›®æ ‡
clean:
	rm -f $(OBJ)
```

#### **è¿è¡Œè¿‡ç¨‹ï¼š**
1. `$(wildcard include/*.h)` ä¼šè·å– `include` ç›®å½•ä¸‹çš„æ‰€æœ‰ `.h` æ–‡ä»¶ï¼Œç»“æœæ˜¯ `header1.h header2.h`ã€‚
2. `$(wildcard src/*.c)` ä¼šè·å– `src` ç›®å½•ä¸‹çš„æ‰€æœ‰ `.c` æ–‡ä»¶ï¼Œç»“æœæ˜¯ `main.c sub.c`ã€‚
3. `$(SRC:.c=.o)` ä¼šå°† `.c` æ–‡ä»¶è½¬æ¢æˆ `.o` æ–‡ä»¶ï¼Œå¾—åˆ° `main.o sub.o`ã€‚

---

#### **ğŸ’¡ ä½¿ç”¨ `wildcard` çš„å¥½å¤„**
- **è‡ªåŠ¨åŒ–**ï¼šä¸éœ€è¦æ‰‹åŠ¨åˆ—å‡ºæ–‡ä»¶ï¼Œ`wildcard` å‡½æ•°è‡ªåŠ¨åŒ¹é…æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ã€‚
- **çµæ´»æ€§**ï¼šå¯ä»¥åŒ¹é…æ–‡ä»¶ç±»å‹ï¼ˆå¦‚ `*.c`ã€`*.h`ï¼‰ã€ç›®å½•ä¸‹çš„æ–‡ä»¶ç­‰ï¼Œæ”¯æŒé€šé…ç¬¦ã€‚
- **åŠ¨æ€æ›´æ–°**ï¼šå½“ä½ æ·»åŠ æˆ–åˆ é™¤æ–‡ä»¶æ—¶ï¼Œ`wildcard` ä¼šè‡ªåŠ¨æ›´æ–°æ–‡ä»¶åˆ—è¡¨ï¼Œé¿å…æ‰‹åŠ¨ç»´æŠ¤æ–‡ä»¶åã€‚

---

#### **ğŸŒŸ æ€»ç»“**
- `wildcard` æ˜¯ `Makefile` ä¸­éå¸¸æœ‰ç”¨çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒèƒ½**è‡ªåŠ¨åŒ¹é…ç¬¦åˆæŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶**ã€‚
- é€‚ç”¨äº **è‡ªåŠ¨å¤„ç†æ–‡ä»¶åˆ—è¡¨**ï¼Œé¿å…æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶è·¯å¾„å’Œåç§°ã€‚

---
### 2.2.4**`addprefix` å‡½æ•°ç®€ä»‹**

`addprefix` æ˜¯ `makefile` ä¸­çš„ä¸€ä¸ªå­—ç¬¦ä¸²å¤„ç†å‡½æ•°ï¼Œä½œç”¨æ˜¯**ç»™ä¸€ç»„å­—ç¬¦ä¸²ï¼ˆé€šå¸¸æ˜¯æ–‡ä»¶åï¼‰ç»Ÿä¸€åŠ ä¸Šå‰ç¼€**ã€‚
#### **ğŸ“Œ è¯­æ³•**
```makefile
$(addprefix å‰ç¼€, å•è¯åˆ—è¡¨)
```
- `å‰ç¼€`ï¼šè¦æ·»åŠ çš„å­—ç¬¦ä¸²ï¼ˆé€šå¸¸æ˜¯è·¯å¾„ï¼‰ã€‚
- `å•è¯åˆ—è¡¨`ï¼šå¤šä¸ªå•è¯ï¼ˆé€šå¸¸æ˜¯æ–‡ä»¶åï¼‰ç”¨ç©ºæ ¼åˆ†éš”ã€‚

---

#### **ğŸ”¹ ç¤ºä¾‹ 1ï¼šç»™æ–‡ä»¶åæ·»åŠ è·¯å¾„**
```makefile
SRC_FILES = main.c utils.c driver.c
SRC_PATH = src/

FULL_SRC_FILES = $(addprefix $(SRC_PATH), $(SRC_FILES))

# ç»“æœï¼š
# FULL_SRC_FILES = src/main.c src/utils.c src/driver.c
```
**ğŸ“– è§£é‡Š**ï¼š  
- `SRC_FILES` é‡Œæœ‰ 3 ä¸ª `.c` æ–‡ä»¶ã€‚  
- `addprefix` ç»™æ¯ä¸ªæ–‡ä»¶åå‰é¢åŠ ä¸Š `src/`ï¼Œå½¢æˆå®Œæ•´è·¯å¾„ã€‚

---

#### **ğŸ”¹ ç¤ºä¾‹ 2ï¼šç»™å˜é‡åŠ ä¸Š `./bin/` ç›®å½•**
```makefile
EXECUTABLES = program1 program2 program3
BIN_DIR = ./bin/

BIN_FILES = $(addprefix $(BIN_DIR), $(EXECUTABLES))

# ç»“æœï¼š
# BIN_FILES = ./bin/program1 ./bin/program2 ./bin/program3
```
è¿™é‡Œ `program1`ã€`program2`ã€`program3` éƒ½å˜æˆäº† `./bin/` ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚

---

#### **ğŸ”¹ ç¤ºä¾‹ 3ï¼šé…åˆ `addsuffix`ï¼ˆæ·»åŠ åç¼€ï¼‰**
```makefile
SRC_FILES = main utils driver
OBJ_FILES = $(addsuffix .o, $(SRC_FILES))

# ç»“æœï¼š
# OBJ_FILES = main.o utils.o driver.o
```
ç„¶åå†ç”¨ `addprefix` åŠ ä¸Šè·¯å¾„ï¼š
```makefile
OBJ_DIR = build/
FULL_OBJ_FILES = $(addprefix $(OBJ_DIR), $(OBJ_FILES))

# ç»“æœï¼š
# FULL_OBJ_FILES = build/main.o build/utils.o build/driver.o
```
è¿™æ ·å°±å¾—åˆ°äº†å®Œæ•´çš„ç›®æ ‡æ–‡ä»¶è·¯å¾„ã€‚

---

#### **ğŸ“Œ æ€»ç»“**
| å‡½æ•° | ä½œç”¨ | ç¤ºä¾‹ |
|---|---|---|
| `$(addprefix prefix, list)` | ç»™ `list` é‡Œçš„æ¯ä¸ªå…ƒç´ åŠ ä¸Š `prefix` | `$(addprefix src/, main.c utils.c)` â†’ `src/main.c src/utils.c` |
| `$(addsuffix suffix, list)` | ç»™ `list` é‡Œçš„æ¯ä¸ªå…ƒç´ åŠ ä¸Š `suffix` | `$(addsuffix .o, main utils)` â†’ `main.o utils.o` |

è¿™ä¸ª `addprefix` å¾ˆå¸¸ç”¨äº `makefile`ï¼Œä¸»è¦æ˜¯**è‡ªåŠ¨ç®¡ç†æ–‡ä»¶è·¯å¾„**ï¼Œé¿å…æ‰‹å†™è·¯å¾„å‡ºé”™ï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼ğŸ˜ƒ






